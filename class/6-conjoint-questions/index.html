<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Conjoint Questions</title>
    <meta charset="utf-8" />
    <meta name="author" content="John Paul Helveston" />
    <meta name="date" content="2024-10-02" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/shareon/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain/shareagain.js"></script>
    <link href="libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <meta name="description" content="EMSE 6035: Marketing Analytics for Design Decisions"/>
    <meta name="generator" content="xaringan and remark.js"/>
    <meta name="github-repo" content="emse-madd-gwu/2023-Fall"/>
    <meta name="twitter:title" content="Conjoint Questions"/>
    <meta name="twitter:description" content="EMSE 6035: Marketing Analytics for Design Decisions"/>
    <meta name="twitter:url" content="https://madd.seas.gwu.edu/2023-Fall/"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:creator" content="@johnhelveston"/>
    <meta name="twitter:site" content="@johnhelveston"/>
    <meta property="og:title" content="Conjoint Questions"/>
    <meta property="og:description" content="EMSE 6035: Marketing Analytics for Design Decisions"/>
    <meta property="og:url" content="https://madd.seas.gwu.edu/2023-Fall/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="article:author" content="John Paul Helveston"/>
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <script src="libs/kePrint/kePrint.js"></script>
    <link href="libs/lightable/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/lexis.css" type="text/css" />
    <link rel="stylesheet" href="css/lexis-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">





class: middle, inverse

.leftcol30[

&lt;center&gt;
&lt;img src="https://madd.seas.gwu.edu/images/logo.png" width=250&gt;
&lt;/center&gt;

]

.rightcol70[

# Week 6: .fancy[Conjoint Questions]

### <svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M243.4 2.6l-224 96c-14 6-21.8 21-18.7 35.8S16.8 160 32 160v8c0 13.3 10.7 24 24 24H456c13.3 0 24-10.7 24-24v-8c15.2 0 28.3-10.7 31.3-25.6s-4.8-29.9-18.7-35.8l-224-96c-8-3.4-17.2-3.4-25.2 0zM128 224H64V420.3c-.6 .3-1.2 .7-1.8 1.1l-48 32c-11.7 7.8-17 22.4-12.9 35.9S17.9 512 32 512H480c14.1 0 26.5-9.2 30.6-22.7s-1.1-28.1-12.9-35.9l-48-32c-.6-.4-1.2-.7-1.8-1.1V224H384V416H344V224H280V416H232V224H168V416H128V224zM256 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg> EMSE 6035: Marketing Analytics for Design Decisions
### <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z"/></svg> John Paul Helveston
### <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z"/></svg> October 02, 2024

]



---

class: inverse, middle, center

# Some Quarto tips

---

### .center[Convert a data frame to a markdown table with `kable()`]

--


``` r
library(tidyverse)

mtcars %&gt;% 
  kable()
```

--

.font80[

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt;   &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; mpg &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; cyl &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; disp &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; hp &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; drat &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; wt &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; qsec &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; vs &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; am &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; gear &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; carb &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mazda RX4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 160.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.90 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.620 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16.46 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mazda RX4 Wag &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 160.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.90 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.875 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.02 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Datsun 710 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 108.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 93 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.85 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.320 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18.61 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Hornet 4 Drive &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 258.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.08 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.215 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.44 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Hornet Sportabout &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 360.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 175 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.440 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.02 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Valiant &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 225.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.76 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.460 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Duster 360 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 14.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 360.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 245 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.21 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.570 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15.84 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Merc 240D &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 146.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 62 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.69 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.190 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Merc 230 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 95 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.92 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.90 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Merc 280 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 167.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 123 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.92 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.440 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Merc 280C &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 167.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 123 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.92 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.440 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18.90 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Merc 450SE &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 275.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 180 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.07 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.070 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.40 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Merc 450SL &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 275.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 180 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.07 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.730 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.60 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Merc 450SLC &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 275.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 180 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.07 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.780 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18.00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Cadillac Fleetwood &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 472.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 205 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.93 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5.250 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.98 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Lincoln Continental &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 460.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 215 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5.424 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Chrysler Imperial &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 14.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 440.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 230 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.23 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5.345 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Fiat 128 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 32.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 78.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 66 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.08 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.200 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Honda Civic &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 52 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.93 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.615 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18.52 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Toyota Corolla &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 71.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 65 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.835 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.90 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Toyota Corona &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 120.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 97 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.70 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.465 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.01 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Dodge Challenger &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 318.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.76 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.520 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16.87 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; AMC Javelin &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 304.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.435 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Camaro Z28 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 13.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 350.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 245 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.73 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.840 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Pontiac Firebird &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 400.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 175 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.08 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.845 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.05 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Fiat X1-9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 27.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 79.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 66 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.08 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.935 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18.90 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Porsche 914-2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 26.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 120.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 91 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16.70 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Lotus Europa &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 95.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 113 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.77 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.513 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16.90 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ford Pantera L &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 351.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 264 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.170 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 14.50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ferrari Dino &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 145.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 175 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.62 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.770 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15.50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Maserati Bora &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 301.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 335 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.54 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.570 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 14.60 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Volvo 142E &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 121.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 109 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.780 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18.60 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]

---

### .center[Example from last year]


``` r
library(tidyverse)
library(here)

df &lt;- read_csv(here("data", "competitors.csv"))
df %&gt;% 
  kable()
```

.font80[

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; brand &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; volumeInOz &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; quantity &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; price &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; pricePerCup &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; biodegrability &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; opacity &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; logo &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; greatValue &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $2.98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.06 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; decorRack &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $5.99 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; tigerChef &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 100 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $7.99 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.08 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; smartly &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $2.79 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.03 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; solo &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $4.04 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.08 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; greatValue &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 100 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $3.76 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.04 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; ecoProducts &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $187.69 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.19 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; worldCentric &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $220.00 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; hefty &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $3.98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.08 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; solo &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $3.98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.08 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; greatValue &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $5.98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.05 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; upAndUp &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $2.49 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.07 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; greatValue &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 25 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $1.98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.08 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; solo &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 25 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $3.05 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; upAndUp &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 28 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $2.99 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; worldCentric &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $181.00 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; ecoProducts &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $279.85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $0.28 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FALSE &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; TRUE &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]

---

class: center, middle 

# More `kable()` formatting options:&lt;br&gt;[{kableExtra} package](https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html)

---

# References

**Simple approach**: Insert a footnote with `^[]` 

.leftcol[

### This markdown...

`The Eiffel Tower is 324 meters tall^[From the [Eiffel Tower wikipedia page](https://en.wikipedia.org/wiki`&lt;br&gt;`/Eiffel_Tower)]`

]

.rightcol[

### ...renders as this

The Eiffel Tower is 324 meters tall&lt;sup&gt;1&lt;/sup&gt;

.font70[&lt;sup&gt;1&lt;/sup&gt;From the [Eiffel Tower wikipedia page](https://en.wikipedia.org/wiki/Eiffel_Tower)]

]

---

# References

**Complex (but more complete) approach**: Use bibtex 

https://quarto.org/docs/authoring/footnotes-and-citations.html

You can insert citations with `[@citekey]`, and a "References" table will be automatically created.

--

&lt;br&gt;

**Footnotes are perfectly fine for this class**

---

class: inverse

# Quiz 2

<div class="countdown" id="timer_e3c6abed" data-warn-when="30" data-update-every="1" tabindex="0" style="bottom:0;left:0;font-size:4em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

.leftcol[

### Download the template from the #class channel

### Make sure you unzip it!

### When done, submit your `quiz2.qmd` on Blackboard

]

.rightcol[

&lt;center&gt;
&lt;img src="https://github.com/emse-p4a-gwu/2022-Spring/raw/main/images/quiz_doge.png" width="400"&gt;
&lt;/center&gt;

]

---



class: inverse, middle

# Week 6: .fancy[Conjoint Questions]

### 1. Defining choice questions in R
### 2. Displaying choice questions in surveydown

---



class: inverse, middle

# Week 6: .fancy[Conjoint Questions]

### 1. .orange[Defining choice questions in R]
### 2. Displaying choice questions in surveydown

---

## Download &amp; unzip two repos:

## - [logitr-cars](https://github.com/jhelvy/logitr-cars/archive/refs/heads/main.zip) 

## - [demo-choice-based-conjoint](https://github.com/surveydown-dev/demo-choice-based-conjoint/archive/refs/heads/main.zip)

(code used in the [blog post](https://surveydown.org/blog/2024-08-28-choice-based-conjoint-surveys-with-surveydown/) on conjoint in surveydown)

---

class: middle, inverse, center

# Open `logitr-cars.Rproj`

---

## .center[We'll be using the [{cbcTools} package](https://jhelvy.github.io/cbcTools/) today]


``` r
install.packages("cbcTools")
```

---

# Choice question components

### 1. Generate `profiles` for each attribute and level

### 2. Create a survey `design` data frame from `profiles`

---

class: center 

# Basic Design

Any combination of attributes can be shown in each choice question

.leftcol[.font90[

## Question 1

&lt;table&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Option: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Price: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $15 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $25 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Fuel Economy: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 (mpg) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 (mpg) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 (mpg) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Accel. Time: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 (s) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 (s) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 (s) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Powertrain: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Electric &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Gasoline &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Electric &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]]

.rightcol[.font90[

## Question 2

&lt;table&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Option: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Price: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $20 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $25 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Fuel Economy: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 (mpg) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 20 (mpg) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 (mpg) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Accel. Time: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 (s) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 (s) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 (s) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Powertrain: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Gasoline &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Gasoline &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Electric &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]]

---

class: center 

# Labeled Design

One attribute is used as the "label" - choice options are fixed according to the label

.leftcol[.font90[

## Question 1

&lt;table&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Option: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Gasoline &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Electric &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Price: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $15 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $20 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Fuel Economy: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 20 (mpg) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 30 (mpg) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Accel. Time: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 (s) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 (s) &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]]

.rightcol[.font90[

## Question 2

&lt;table&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Option: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Gasoline &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Electric &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Price: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $20 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $20 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Fuel Economy: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 20 (mpg) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 20 (mpg) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Accel. Time: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 (s) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 (s) &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]]

---

class: center

# Design with a "None" option

A "none" option means they can choose an "other" option

.leftcol[.font90[

## Question 1

&lt;table&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Option: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Price: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $15 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $20 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $20 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Fuel Economy: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 20 (mpg) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 (mpg) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 (mpg) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Accel. Time: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 (s) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 (s) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 (s) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Powertrain: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Gasoline &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Electric &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Gasoline &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]]

.rightcol[.font90[

## Question 2

&lt;table&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Option: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; None &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Price: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $15 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $25 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $20 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Fuel Economy: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 (mpg) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 30 (mpg) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 (mpg) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Accel. Time: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 (s) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 (s) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 (s) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Powertrain: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Electric &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Gasoline &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Gasoline &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]]

---

# Attribute-specific features

Some attributes may only be valid for certain levels of other attributes

&gt; **Example**: The driving range of an electric vehicle (EV) only applies to EVs and not gasoline-powered vehicles.

--

&lt;br&gt;

To implement this, edit `profiles` prior to using `cbc_design()`

(see `logitr-cars` code 1.2)

---

# Restricted profiles

Sometimes you may want to not allow a specific combination of features  -  use `cbc_restrict()` to implement this 

(see `logitr-cars` code 1.3)

--

&lt;br&gt; 

# .red[Warning]: Avoid restrictions if possible!

---

class: inverse

<div class="countdown" id="timer_7f032bfb" data-warn-when="15" data-update-every="1" tabindex="0" style="top:0;right:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">20</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

## Your Turn

## Open `survey.Rproj` in "demo-choice-based-conjoint"

With your team, discuss the specific choice question design for your project

- Regular or labeled?
- Include a "none" option (outside good) or not?
- Include restrictions?

Edit the `make-choice-questions.R` file to design your choice questions.

---



class: inverse, middle

# Week 6: .fancy[Conjoint Questions]

### 1. Defining choice questions in R
### 2. .orange[Displaying choice questions in surveydown]

---

# .center[Displaying choice questions in your survey]

### 1. Read in the design file (`choice_questions.csv`)
### 2. Sample and store a random respondent ID
### 3. Filter the design for the respondentID
### 4. Define a function to create question options
### 5. Create the options for each choice question
### 6. Create each choice question (6 in total)

---

### 1. Read in the design file (`choice_questions.csv`)


``` r
design &lt;- readr::read_csv("choice_questions.csv")
```

---

### 2. Sample and store a random respondent ID

Sample a random respondentID


``` r
respondentID &lt;- sample(design$respID, 1)
```

Store the respondentID


``` r
sd_store_value(respondentID, "respID")
```

In your survey data, you will have a `respID` column

---

### 3. Filter the design for the respondentID


``` r
df &lt;- design %&gt;%
  filter(respID == respondentID) %&gt;%
  mutate(image = paste0("images/", image))
```

Images are stored in `"images"` folder, so we paste on that path

--

Result looks like this:


``` r
head(df)
```

```
#&gt; # A tibble: 6  9
#&gt;   respID   qID altID obsID profileID type          price freshness image                  
#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;                  
#&gt; 1   1646     1     1 13161        37 Gala            1   Average   images/gala.jpg        
#&gt; 2   1646     1     2 13161         3 Honeycrisp      1   Excellent images/honeycrisp.jpg  
#&gt; 3   1646     1     3 13161        47 Gala            2   Average   images/gala.jpg        
#&gt; 4   1646     2     1 13162        51 Fuji            2.5 Average   images/fuji.jpg        
#&gt; 5   1646     2     2 13162        31 Fuji            4   Excellent images/fuji.jpg        
#&gt; 6   1646     2     3 13162        75 Red Delicious   1   Poor      images/redDelicious.jpg
```

---

.leftcol[

### 4. Define a function to create question options

]

.rightcol[.code70[


``` r
make_cbc_options &lt;- function(df) {
  alt1 &lt;- df |&gt; filter(altID == 1)
  alt2 &lt;- df |&gt; filter(altID == 2)
  alt3 &lt;- df |&gt; filter(altID == 3)

  options &lt;- c("option_1", "option_2", "option_3")

  names(options) &lt;- c(
    glue("
      **Option 1**&lt;br&gt;
      &lt;img src='{alt1$image}' width=100&gt;&lt;br&gt;
      **Type**: {alt1$type}&lt;br&gt;
      **Price**: $ {alt1$price} / lb
    "),
    glue("
      **Option 2**&lt;br&gt;
      &lt;img src='{alt2$image}' width=100&gt;&lt;br&gt;
      **Type**: {alt2$type}&lt;br&gt;
      **Price**: $ {alt2$price} / lb
    "),
    glue("
      **Option 3**&lt;br&gt;
      &lt;img src='{alt3$image}' width=100&gt;&lt;br&gt;
      **Type**: {alt3$type}&lt;br&gt;
      **Price**: $ {alt3$price} / lb
    ")
  )
  return(options)
}
```

]]

---

.leftcol[

### 4. Define a function to create question options

Make one-row data frames for each alternative.

For example, `alt1` looks like this:


```
#&gt; Rows: 1
#&gt; Columns: 9
#&gt; $ respID    &lt;dbl&gt; 1646
#&gt; $ qID       &lt;dbl&gt; 1
#&gt; $ altID     &lt;dbl&gt; 1
#&gt; $ obsID     &lt;dbl&gt; 13161
#&gt; $ profileID &lt;dbl&gt; 37
#&gt; $ type      &lt;chr&gt; "Gala"
#&gt; $ price     &lt;dbl&gt; 1
#&gt; $ freshness &lt;chr&gt; "Average"
#&gt; $ image     &lt;chr&gt; "images/gala.jpg"
```

]

.rightcol[.code70[


``` r
make_cbc_options &lt;- function(df) {
* alt1 &lt;- df |&gt; filter(altID == 1)
* alt2 &lt;- df |&gt; filter(altID == 2)
* alt3 &lt;- df |&gt; filter(altID == 3)

  options &lt;- c("option_1", "option_2", "option_3")

  names(options) &lt;- c(
    glue("
      **Option 1**&lt;br&gt;
      &lt;img src='{alt1$image}' width=100&gt;&lt;br&gt;
      **Type**: {alt1$type}&lt;br&gt;
      **Price**: $ {alt1$price} / lb
    "),
    glue("
      **Option 2**&lt;br&gt;
      &lt;img src='{alt2$image}' width=100&gt;&lt;br&gt;
      **Type**: {alt2$type}&lt;br&gt;
      **Price**: $ {alt2$price} / lb
    "),
    glue("
      **Option 3**&lt;br&gt;
      &lt;img src='{alt3$image}' width=100&gt;&lt;br&gt;
      **Type**: {alt3$type}&lt;br&gt;
      **Price**: $ {alt3$price} / lb
    ")
  )
  return(options)
}
```

]]

---

.leftcol[

### 4. Define a function to create question options


``` r
alt1[c('image', 'type', 'price')]
```

```
#&gt; # A tibble: 1  3
#&gt;   image           type  price
#&gt;   &lt;chr&gt;           &lt;chr&gt; &lt;dbl&gt;
#&gt; 1 images/gala.jpg Gala      1
```

Highlighted section renders as:


```
#&gt; **Option 1**&lt;br&gt;
#&gt; &lt;img src='images/gala.jpg' width=100&gt;&lt;br&gt;
#&gt; **Type**: Gala&lt;br&gt;
#&gt; **Price**: $ 1 / lb
```

]

.rightcol[.code70[


``` r
make_cbc_options &lt;- function(df) {
  alt1 &lt;- df |&gt; filter(altID == 1)
  alt2 &lt;- df |&gt; filter(altID == 2)
  alt3 &lt;- df |&gt; filter(altID == 3)

  options &lt;- c("option_1", "option_2", "option_3")

  names(options) &lt;- c(
*   glue("
*     **Option 1**&lt;br&gt;
*     &lt;img src='{alt1$image}' width=100&gt;&lt;br&gt;
*     **Type**: {alt1$type}&lt;br&gt;
*     **Price**: $ {alt1$price} / lb
*   "),
    glue("
      **Option 2**&lt;br&gt;
      &lt;img src='{alt2$image}' width=100&gt;&lt;br&gt;
      **Type**: {alt2$type}&lt;br&gt;
      **Price**: $ {alt2$price} / lb
    "),
    glue("
      **Option 3**&lt;br&gt;
      &lt;img src='{alt3$image}' width=100&gt;&lt;br&gt;
      **Type**: {alt3$type}&lt;br&gt;
      **Price**: $ {alt3$price} / lb
    ")
  )
  return(options)
}
```

]]

---

### 5. Create the options for each choice question


``` r
cbc1_options &lt;- make_cbc_options(df |&gt; filter(qID == 1))
```

Value stored in your data: 


```
#&gt; option_1
```

.leftcol[

Label:


```
#&gt; [1] "  **Option 1**&lt;br&gt;\n  &lt;img src='images/gala.jpg' width=100&gt;&lt;br&gt;\n  **Type**: Gala&lt;br&gt;\n  **Price**: $ 1 / lb"
```

]

.rightcol[

Renders as:

  **Option 1**<br>
  <img src='images/gala.jpg' width=100><br>
  **Type**: Gala<br>
  **Price**: $ 1 / lb

]

---

### 5. Create the options for each choice question

Now make the options for each question


``` r
cbc1_options &lt;- make_cbc_options(df |&gt; filter(qID == 1))
cbc2_options &lt;- make_cbc_options(df |&gt; filter(qID == 2))
cbc3_options &lt;- make_cbc_options(df |&gt; filter(qID == 3))
cbc4_options &lt;- make_cbc_options(df |&gt; filter(qID == 4))
cbc5_options &lt;- make_cbc_options(df |&gt; filter(qID == 5))
cbc6_options &lt;- make_cbc_options(df |&gt; filter(qID == 6))
```

---

### 6. Create each choice question (6 in total)

.leftcol[

Code:


``` r
sd_question(
  type   = 'mc_buttons',
  id     = 'cbc_q1',
  label  = "(1 of 6) If these were your only options, which would you choose?",
  option = cbc1_options
)
```

]

.rightcol[

Renders as:

&lt;center&gt;
&lt;img src="images/example.png" width=100%&gt;
&lt;/center&gt;

]

---

## .center[TABLE layout: Show options in a table with `kable()`]


``` r
library(dplyr)

alts &lt;- df %&gt;%
  filter(qID == 1) %&gt;% 
  mutate(
    # Add $ sign to price and html code for image path
    price = paste(scales::dollar(price), "/ lb"),
    image = paste0('&lt;img src="', image, '" width=100&gt;')) %&gt;%
  # Make nicer attribute labels
  select(
    `Option:`    = altID,
    ` `          = image,
    `Price:`     = price,
    `Type:`      = type,
    `Freshness:` = freshness)

# Drop row names
row.names(alts) &lt;- NULL
```

---

## .center[Option: Show options in a table with `kable()`]

Display the _transpose_, `t(alts)`


``` r
kbl(t(alts), escape = FALSE) %&gt;%
  kable_styling(
    bootstrap_options = c("striped", "hover", "condensed"),
    full_width = FALSE,
    position = "center"
  )
```

&lt;table class="table table-striped table-hover table-condensed" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Option: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; &lt;img src="images/gala.jpg" width="100"&gt; &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; &lt;img src="images/honeycrisp.jpg" width="100"&gt; &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; &lt;img src="images/gala.jpg" width="100"&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Price: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $1 / lb &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $1 / lb &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; $2 / lb &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Type: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Gala &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Honeycrisp &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Gala &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Freshness: &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Average &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Excellent &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Average &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

class: center 

## .center[TABLE layout: Show options in a table with `kable()`]

Your choice question can be defined in the `survey.qmd`&lt;br&gt;file as it is just choosing one of three options:

&lt;center&gt;
&lt;img src="images/example-table.png" width=550&gt;
&lt;/center&gt;

---

class: inverse

<div class="countdown" id="timer_c7f0298c" data-warn-when="15" data-update-every="1" tabindex="0" style="top:0;right:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">20</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

## Your Turn

With your team, choose a format to work with (buttons or table) for your choice question, then modify the example survey to match your project.

## Versions:

## Buttons layout: [demo-choice-based-conjoint](https://github.com/surveydown-dev/demo-choice-based-conjoint/archive/refs/heads/main.zip)

## Table layout: [demo-choice-based-conjoint-table](https://github.com/surveydown-dev/demo-choice-based-conjoint-table/archive/refs/heads/main.zip)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
