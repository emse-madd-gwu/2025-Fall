<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Quarto &amp; Plotting</title>
    <meta charset="utf-8" />
    <meta name="author" content="John Paul Helveston" />
    <meta name="date" content="2024-09-11" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/shareon/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain/shareagain.js"></script>
    <link href="libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <meta name="description" content="EMSE 6035: Marketing Analytics for Design Decisions"/>
    <meta name="generator" content="xaringan and remark.js"/>
    <meta name="github-repo" content="emse-madd-gwu/2023-Fall"/>
    <meta name="twitter:title" content="Quarto &amp; Plotting"/>
    <meta name="twitter:description" content="EMSE 6035: Marketing Analytics for Design Decisions"/>
    <meta name="twitter:url" content="https://madd.seas.gwu.edu/2023-Fall/"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:creator" content="@johnhelveston"/>
    <meta name="twitter:site" content="@johnhelveston"/>
    <meta property="og:title" content="Quarto &amp; Plotting"/>
    <meta property="og:description" content="EMSE 6035: Marketing Analytics for Design Decisions"/>
    <meta property="og:url" content="https://madd.seas.gwu.edu/2023-Fall/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="article:author" content="John Paul Helveston"/>
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <link rel="stylesheet" href="css/lexis.css" type="text/css" />
    <link rel="stylesheet" href="css/lexis-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">





class: middle, inverse

.leftcol30[

&lt;center&gt;
&lt;img src="https://madd.seas.gwu.edu/images/logo.png" width=250&gt;
&lt;/center&gt;

]

.rightcol70[

# Week 3: .fancy[Quarto &amp; Plotting]

### <svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M243.4 2.6l-224 96c-14 6-21.8 21-18.7 35.8S16.8 160 32 160v8c0 13.3 10.7 24 24 24H456c13.3 0 24-10.7 24-24v-8c15.2 0 28.3-10.7 31.3-25.6s-4.8-29.9-18.7-35.8l-224-96c-8-3.4-17.2-3.4-25.2 0zM128 224H64V420.3c-.6 .3-1.2 .7-1.8 1.1l-48 32c-11.7 7.8-17 22.4-12.9 35.9S17.9 512 32 512H480c14.1 0 26.5-9.2 30.6-22.7s-1.1-28.1-12.9-35.9l-48-32c-.6-.4-1.2-.7-1.8-1.1V224H384V416H344V224H280V416H232V224H168V416H128V224zM256 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg> EMSE 6035: Marketing Analytics for Design Decisions
### <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z"/></svg> John Paul Helveston
### <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z"/></svg> September 11, 2024

]



---

class: inverse

# Quiz 1

<div class="countdown" id="timer_6a217adf" data-warn-when="30" data-update-every="1" tabindex="0" style="bottom:0;left:0;font-size:4em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

.leftcol[

### Download the template from the #class channel

### Make sure you unzip it!

### When done, submit your `quiz1.qmd` on Blackboard

]

.rightcol[

&lt;center&gt;
&lt;img src="https://github.com/emse-p4a-gwu/2022-Spring/raw/main/images/quiz_doge.png" width="400"&gt;
&lt;/center&gt;

]

---



class: inverse, middle

# Week 3: .fancy[Quarto &amp; Plotting]

### 1. Intro to Quarto
### 2. Intro to ggplot2

### Break

### 3. Project attributes &amp; levels

---



class: inverse, middle

# Week 3: .fancy[Quarto &amp; Plotting]

### 1. .orange[Intro to Quarto]
### 2. Intro to ggplot2

### Break

### 3. Project attributes &amp; levels

---

class: center

# "Literate programming"

.leftcol[.left[

&gt; ### Treat programs as a "literature" understandable to **human beings**

]]

.rightcol[.center[

&lt;center&gt;
&lt;img src="images/Knuth.jpg" width=350&gt;
&lt;/center&gt;

[Donald E. Knuth](https://en.wikipedia.org/wiki/Donald_Knuth)

]]

---


class: middle, inverse

# .center[Quick demo]

&lt;br&gt;

# 1. Open `quarto_demo.qmd`

# 2. Click "Render"

&lt;center&gt;
&lt;img src="images/how-qmd-works.png" width=100%&gt;
&lt;/center&gt;

---

# .center[Anatomy of a .qmd file]

&lt;br&gt;

# .red[Header]

# Markdown text

# R code

---

# Define overall document options in header

.leftcol[

Basic html page

```
---
title: Your title
author: Author name
format: html
---
```

]

.rightcol[

Add table of contents, change theme

```
---
title: Your title
author: Author name
toc: true
format:
  html:
    theme: united
---
```

More on themes at https://quarto.org/docs/output-formats/html-themes.html

]

---

# Render to multiple outputs

.leftcol[

### PDF uses LaTeX

```
---
title: Your title
author: Author name
format: pdf
---
```

If you don't have LaTeX on your computer, install tinytex in R:


``` r
tinytex::install_tinytex()
```

]

.rightcol[

### Microsoft Word

```
---
title: Your title
author: Author name
format: docx
---
```

]

---

# .center[Anatomy of a .qmd file]

&lt;br&gt;

# ~~Header~~

# .red[Markdown text]

# R code

---

class: center

# Right now, bookmark this! üëá

# https://commonmark.org/help/

&lt;br&gt;&lt;hr&gt;&lt;br&gt;

# (When you have 10 minutes, do this! üëá)

# https://commonmark.org/help/tutorial/

---

# .center[Headers]

--

.leftcol[

```markdown
# HEADER 1

## HEADER 2

### HEADER 3

#### HEADER 4

##### HEADER 5

###### HEADER 6
```

]

--

.rightcol[

# HEADER 1

## HEADER 2

### HEADER 3

#### HEADER 4

##### HEADER 5

###### HEADER 6

]

---

# .center[Basic Text Formatting]

.leftcol[

## Type this...

- `normal text`
- `_italic text_`
- `*italic text*`
- `**bold text**`
- `***bold italic text***`
- `~~strikethrough~~`
- `` `code text` ``

]

.rightcol[

## ..to get this

- normal text
- _italic text_
- *italic text*
- **bold text**
- ***bold italic text***
- ~~strikethrough~~
- `code text`

]

---

class: top

# .center[Lists]

.leftcol[

Bullet list:


``` r
- first item
- second item
- third item
```

- first item
- second item
- third item

]

.rightcol[

Numbered list:


``` r
1. first item
2. second item
3. third item
```

1. first item
2. second item
3. third item

]

---

# .center[Links]

Simple **url link** to another site:


``` r
[Download R](http://www.r-project.org/)
```

[Download R](http://www.r-project.org/)

---

class: middle, center

# Don't want to use Markdown?

# .red[Use Visual Mode!]

&lt;center&gt;
&lt;img src="images/visual-mode.png" width=700&gt;
&lt;/center&gt;

---

# .center[Anatomy of a .qmd file]

&lt;br&gt;

# ~~Header (think of this as the "settings")~~

# ~~Markdown text~~

# .red[R code]

---

class: center

# R Code

--

.leftcol[

## Inline code

.left[

``` r
`r insert code here`
```

]]

--

.rightcol[

## Code chunks

.left[

````markdown
```{r}
insert code here
insert more code here
```
````

]]

---

# Inline R code


``` r
The sum of 3 and 4 is `r 3 + 4`
```

--

Produces this:

The sum of 3 and 4 is 7

---

# R Code chunks

.leftcol[

This code chunk...

````markdown
```{r}
library(palmerpenguins)

head(penguins)
```
````

]

--

.rightcol[

...will produce this when compiled:


``` r
library(palmerpenguins)

head(penguins)
```

```
#&gt; # A tibble: 6 √ó 8
#&gt;   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex     year
#&gt;   &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt; &lt;fct&gt;  &lt;int&gt;
#&gt; 1 Adelie  Torgersen           39.1          18.7               181        3750 male    2007
#&gt; 2 Adelie  Torgersen           39.5          17.4               186        3800 female  2007
#&gt; 3 Adelie  Torgersen           40.3          18                 195        3250 female  2007
#&gt; 4 Adelie  Torgersen           NA            NA                  NA          NA &lt;NA&gt;    2007
#&gt; 5 Adelie  Torgersen           36.7          19.3               193        3450 female  2007
#&gt; 6 Adelie  Torgersen           39.3          20.6               190        3650 male    2007
```

]

---

# Chunk options

Control what chunks output using options

All options [here](https://quarto.org/docs/reference/cells/cells-knitr.html)

&lt;img src="images/chunks_options.png" width="60%" /&gt;

---

# .center[Chunk output options]

.center[By default, code chunks print **code** + **output**]

--

.cols3[

````markdown
```{r}
#| echo: false

cat('hello world!')
```
````

Prints only **output**&lt;br&gt;(doesn't show code)


```
#&gt; hello world!
```

]

--

.cols3[

````markdown
```{r}
#| eval: false

cat('hello world!')
```
````

Prints only **code**&lt;br&gt;(doesn't run the code)


``` r
cat('hello world!')
```

]

--

.cols3[

````markdown
```{r}
#| include: false

cat('hello world!')
```
````

Runs, but doesn't print anything



]

---

# message / warning

![](https://www.tidyverse.org/images/tidyverse_1.2.0/tidyverse_1-2-0_pkg_load.gif)

---

# message / warning

Drop messages and warnings in chunk settings

.leftcol[

````markdown
```{r}
#| message: false
#| warning: false

library(tidyverse)
```
````

]

---

# A global `setup` chunk üåç

.leftcol[

````markdown
```{r}
#| label: setup
#| include: false

knitr::opts_chunk$set(
    warning = FALSE,
    message = FALSE,
    fig.path = "figs/",
    fig.width = 7.252,
    fig.height = 4,
    comment = "#&gt;",
    fig.retina = 3
)
```
````

]

.rightcol[

- Typically the first chunk
- All following chunks will use these options (i.e., sets global chunk options)
- You can (and should) use individual chunk options too
- Often where I load libraries, etc.

]

---

class: inverse

<div class="countdown" id="timer_1ad19c41" data-warn-when="15" data-update-every="1" tabindex="0" style="top:0;right:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

# Your turn

.font90[

1) Open the `bears.qmd` file, and title it _"Bears Analysis"_

2) Create a "setup" code chunk to read in the `bear_killings.csv` data file&lt;br&gt;(HINT: You might want to look back at the `quarto_demo.qmd` file!).

3) Use text and code to find answers each of the following questions - show your code and results to justify each answer:

- Which months have the highest frequency of bear killings?
- Who has been killed more often by bears: hunters or hikers?
- How do the the number of bear attacks on men vs women compare?

HINT: Use `bears %&gt;% count(variable)` to count how many rows are in the data for each unique value of `variable`

]

---



class: inverse, middle

# Week 3: .fancy[Quarto &amp; Plotting]

### 1. Intro to Quarto
### 2. .orange[Intro to ggplot2]

### Break

### 3. Project attributes &amp; levels

---

.leftcol[

&lt;img src="images/making_a_ggplot.jpeg" width=600&gt;

]

.rightcol[

# "Grammar of Graphics"

Concept developed by Leland Wilkinson (1999)

**ggplot2** package developed by Hadley Wickham (2005)

]

---

# Making plot layers with ggplot2

&lt;br&gt;

### 1. The data 
### 2. The aesthetic mapping (what goes on the axes?)
### 3. The geometries (points? bars? etc.)
### 4. The annotations / labels
### 5. The theme

---

# Layer 1: The data


``` r
head(mpg)
```

```
#&gt; # A tibble: 6 √ó 11
#&gt;   manufacturer model displ  year   cyl trans      drv     cty   hwy fl    class  
#&gt;   &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  
#&gt; 1 audi         a4      1.8  1999     4 auto(l5)   f        18    29 p     compact
#&gt; 2 audi         a4      1.8  1999     4 manual(m5) f        21    29 p     compact
#&gt; 3 audi         a4      2    2008     4 manual(m6) f        20    31 p     compact
#&gt; 4 audi         a4      2    2008     4 auto(av)   f        21    30 p     compact
#&gt; 5 audi         a4      2.8  1999     6 auto(l5)   f        16    26 p     compact
#&gt; 6 audi         a4      2.8  1999     6 manual(m5) f        18    26 p     compact
```

---

# Layer 1: The data

The `ggplot()` function initializes the plot with whatever data you're using

.leftcol[


``` r
mpg %&gt;% 
  ggplot()
```

]

.rightcol[.blackborder[

&lt;img src="figs/unnamed-chunk-19-1.png" width="504" /&gt;

]]

---

# Layer 2: The aesthetic mapping

The `aes()` function determines which variables will be _mapped_ to the geometries&lt;br&gt;(e.g. the axes)

.leftcol[


``` r
mpg %&gt;% 
* ggplot(aes(x = displ, y = hwy))
```

]

.rightcol[.blackborder[

&lt;img src="figs/unnamed-chunk-20-1.png" width="504" /&gt;

]]

---

# Layer 3: The geometries

Use `+` to add geometries, e.g. `geom_points()` for points

.leftcol[


``` r
mpg %&gt;% 
  ggplot(aes(x = displ, y = hwy)) +
* geom_point()
```

]

.rightcol[.blackborder[

&lt;img src="figs/unnamed-chunk-21-1.png" width="504" /&gt;

]]

---

# Layer 4: The annotations / labels

Use `labs()` to modify most labels

.leftcol[


``` r
mpg %&gt;% 
  ggplot(aes(x = displ, y = hwy)) +
  geom_point() +
* labs(
*   x = "Engine displacement (liters)",
*   y = "Highway fuel economy (mpg)",
*   title = "Most larger engine vehicles are less fuel efficient"
* )
```

]

.rightcol[

&lt;img src="figs/unnamed-chunk-22-1.png" width="504" /&gt;

]

---

# Layer 5: The theme

.leftcol[


``` r
mpg %&gt;% 
  ggplot(aes(x = displ, y = hwy)) +
  geom_point() +
  labs(
    x = "Engine displacement (liters)",  
    y = "Highway fuel economy (mpg)", 
    title = "Most larger engine vehicles are less fuel efficient"
  ) + 
* theme_bw()
```

]


.rightcol[

&lt;img src="figs/unnamed-chunk-23-1.png" width="504" /&gt;

]

---

### Common themes

.leftcol[

`theme_bw()`


``` r
mpg %&gt;% 
  ggplot(aes(x = displ, y = hwy)) +
  geom_point() +
* theme_bw()
```

&lt;img src="figs/unnamed-chunk-24-1.png" width="432" /&gt;

]

.rightcol[

`theme_minimal()`


``` r
mpg %&gt;% 
  ggplot(aes(x = displ, y = hwy)) +
  geom_point() +
* theme_minimal()
```

&lt;img src="figs/unnamed-chunk-25-1.png" width="432" /&gt;

]

---

### Common themes

.leftcol[

`theme_classic()`


``` r
mpg %&gt;% 
  ggplot(aes(x = displ, y = hwy)) +
  geom_point() +
* theme_classic()
```

&lt;img src="figs/unnamed-chunk-26-1.png" width="432" /&gt;

]

.rightcol[

`theme_void()`


``` r
mpg %&gt;% 
  ggplot(aes(x = displ, y = hwy)) +
  geom_point() +
* theme_void()
```

&lt;img src="figs/unnamed-chunk-27-1.png" width="432" /&gt;

]

---

### Other themes: [hrbrthemes](https://github.com/hrbrmstr/hrbrthemes)


``` r
remotes::install_github("hrbrmstr/hrbrthemes")
```

.leftcol[


``` r
mpg %&gt;% 
  ggplot(aes(x = displ, y = hwy)) +
  geom_point() +
* hrbrthemes::theme_ipsum()
```

&lt;img src="figs/unnamed-chunk-29-1.png" width="432" /&gt;

]

.rightcol[


``` r
mpg %&gt;% 
  ggplot(aes(x = displ, y = hwy)) +
  geom_point() +
* hrbrthemes::theme_ft_rc()
```

&lt;img src="figs/unnamed-chunk-30-1.png" width="432" /&gt;

]

---

### Other themes: [ggthemes](https://jrnold.github.io/ggthemes/)


``` r
install.packages('ggthemes', dependencies = TRUE)
```

.leftcol[


``` r
mpg %&gt;% 
  ggplot(aes(x = displ, y = hwy)) +
  geom_point() +
* ggthemes::theme_economist()
```

&lt;img src="figs/unnamed-chunk-32-1.png" width="432" /&gt;

]

.rightcol[


``` r
mpg %&gt;% 
  ggplot(aes(x = displ, y = hwy)) +
  geom_point() +
* ggthemes::theme_economist_white()
```

&lt;img src="figs/unnamed-chunk-33-1.png" width="432" /&gt;

]

---

class: center, middle, inverse 

# More practice

# Open `ggplot2.qmd`

---

class: middle, inverse 

.leftcol[

&lt;img src="figs/unnamed-chunk-34-1.png" width="522.144" /&gt;

&lt;img src="figs/unnamed-chunk-35-1.png" width="522.144" /&gt;

]

.rightcol[

<div class="countdown" id="timer_3d4fa2c6" data-warn-when="15" data-update-every="1" tabindex="0" style="top:0;right:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

## Your turn

Open `practice.qmd`

Use the `mpg` data frame and ggplot to create these charts

&lt;img src="figs/unnamed-chunk-37-1.png" width="522.144" /&gt;

]

---

class: inverse

# Extra practice

.leftcol[

&lt;img src="figs/ggbar_p1-1.png" width="504" /&gt;

]

.rightcol[

&lt;img src="figs/unnamed-chunk-38-1.png" width="432" /&gt;

]

---



class: inverse, middle

# Week 3: .fancy[Quarto &amp; Plotting]

### 1. Intro to Quarto
### 2. Intro to ggplot2

### Break

### 3. .orange[Project attributes &amp; levels]

---

class: center

# Model Relationships Table ([example](https://docs.google.com/spreadsheets/d/1Hmxfav_l1bubnaPkIiiMW0tZrFA-xblP9_ndN_6TB1I/edit?usp=sharing))

.border[

&lt;center&gt;
&lt;img src="images/solar2.png" width=1100&gt;
&lt;/center&gt;

]

## Start defining attribute _levels_

---

# Defining attribute levels

.leftcol[

## Continuous

- **Price**: 1, 2, 3, 4, 5 ($)
- **Power Output**: 60, 80, 120 (Watts)

## Discrete

- **Color**: Red, Blue, Yellow
- **Material**: Plastic, Aluminum, Glass

]

.rightcol[

- Look at competitors
- Search web for values that cover the full set of values available today (and maybe some into the future)

]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
